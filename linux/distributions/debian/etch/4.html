<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
  <meta content="text/html; charset=Shift_JIS" http-equiv="Content-Type">
  <title>4</title>
</head>
<body>
<div id="navigator">
<div><a href="../../../../index.html" title="FrontPage (2d)">HOME</a> /
<a href="../index.html">Debian</a>
/ <a href="index.html">Etch</a>
/ 4 <br>
<hr size="2" width="100%"></div>
<div class="contents">
<ul class="list2" style="padding-left: 16px; margin-left: 16px;">
  <li><a href="#content_1_0">APT の sources.list 設定について</a>
    <ul class="list3" style="padding-left: 16px; margin-left: 16px;">
      <li><a href="#content_1_1">4.0 Etch の標準（デフォルト）の sources.list</a></li>
      <li><a href="#content_1_2">sources.list のカスタマイズ（修正と追加）</a></li>
    </ul>
  </li>
  <li><a href="#content_1_3">Etch のパッケージ管理（APT）について</a>
    <ul class="list3" style="padding-left: 16px; margin-left: 16px;">
      <li><a href="#content_1_4">APT Update Watcher</a></li>
      <li><a href="#content_1_5">update-manager</a></li>
      <li><a href="#content_1_6">Update Notifier</a></li>
      <li><a href="#content_1_7">secure apt について（変更点）</a></li>
      <li><a href="#content_1_8">secure apt を有効にするには？</a></li>
      <li><a href="#content_1_9">secure apt を利用しないとき</a></li>
      <li><a href="#content_1_10">Recommends パッケージの扱い（変更点 -2007-10-01）</a></li>
    </ul>
  </li>
</ul>
</div>
<h3 id="content_1_0">APT の sources.list 設定について</h3>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_1">4.0 Etch の標準（デフォルト）の sources.list</h4>
<p>ネットワークインストール直後の etc/apt/sources.list の初期設定は、次のとおりです。(2007-04-15 現在)</p>
<blockquote>
  <p class="quotation">#<br>
# deb cdrom:[Debian GNU/Linux 4.0 r0 _Etch_ - Official i386 NETINST
Binary-1 20070407-11:29]/ etch contrib main<br>
　<br>
deb cdrom:[Debian GNU/Linux 4.0 r0 _Etch_ - Official i386 NETINST
Binary-1 20070407-11:29]/ etch contrib main<br>
　<br>
deb <a href="http://ftp.jp.debian.org/debian/">http://ftp.jp.debian.org/debian/</a>
etch main<br>
deb-src <a href="http://ftp.jp.debian.org/debian/">http://ftp.jp.debian.org/debian/</a>
etch main<br>
　<br>
deb <a href="http://security.debian.org/">http://security.debian.org/</a>
etch/updates main contrib<br>
deb-src <a href="http://security.debian.org/">http://security.debian.org/</a>
etch/updates main contrib</p>
</blockquote>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_2">sources.list のカスタマイズ（修正と追加）</h4>
<p>毎回 CD-ROM を参照しないようにします。また、contrib と non-free セクションを追加します。</p>
<blockquote>
  <p class="quotation"># deb cdrom:[Debian GNU/Linux 4.0 r0 _Etch_ -
Official i386 NETINST Binary-1 20070407-11:29]/ etch contrib main<br>
　<br>
deb <a href="http://ftp.jp.debian.org/debian/">http://ftp.jp.debian.org/debian/</a>
etch main contrib non-free<br>
deb-src <a href="http://ftp.jp.debian.org/debian/">http://ftp.jp.debian.org/debian/</a>
etch main contrib non-free<br>
　<br>
deb <a href="http://security.debian.org/">http://security.debian.org/</a>
etch/updates main contrib non-free<br>
deb-src <a href="http://security.debian.org/">http://security.debian.org/</a>
etch/updates main contrib non-free</p>
</blockquote>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li><a href="http://www.debian.or.jp/community/push-mirror.html">Debian
JP
Project - CDN 対応ミラーの設定</a>について<br>
複数の Debian ミラーサーバを仮想的に集約して耐障害性を持たせる CDN (Contents Delivery Network)
化が進められています。</li>
</ul>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_3">Etch のパッケージ管理（APT）について</h3>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_4">APT Update Watcher</h4>
<p>アプト−ウオッチは、ネットワークに接続し、アップデータを常時監視するアプレットです。このアプレットは、アップデータが利用可能である場合、ク
ライアントに自動通知します。Windows Updates や Red Hat network と同様な機能を持ちます。</p>
<p>"apt-watch" の英文概説より翻訳し上記の引用を行いました。<br>
<a href="http://packages.debian.org/testing/admin/apt-watch">http://packages.debian.org/testing/admin/apt-watch</a><br>
"apt-watch is an applet that will inform you when upgrades are
available for your computer. It is similar to Windows Update or the Red
Hat Network applet."</p>
<p>Automatically checks software for updates.<br>
Package: apt-watch<br>
Description: Applet that monitors apt sources for upgrades</p>
<blockquote>
  <p class="quotation">apt-watch is an applet that will
inform you when upgrades are available for your computer. It is similar
to Windows Update or the Red Hat Network applet.<br>
This package contains the GNOME applet graphical interface.</p>
</blockquote>
<hr class="full_hr">
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>過去の情報<br>
apt-watch とは、2002年12月24日の Debian
ウィークリーニュースですでに発表され、長らく開発されてきたデスクトップ・アプレットです。</li>
</ul>
<p>Announcing apt-watch: a Gnome 2 panel applet to check for upgrades<br>
<a href="http://lists.debian.org/debian-devel/2002/12/msg01150.html">http://lists.debian.org/debian-devel/2002/12/msg01150.html</a></p>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li><a href="http://www.jp.debian.org/News/weekly/2002/50/">Debian
ウィークリーニュース - 2002 年 12 月 24 日</a><br>
「GNOME パネルで Debian を監視する。 Daniel Burrows さんは、アップグレードがないかどうかチェックする GNOME
2 用のパネルアプレット、apt-watch
のプレビュー版を発表しました。彼はしばらくの間作業を続けられないので、未完成の部分のリストで締めくくりました。Emile van Bergen
さんは、あまりにも多くの負荷がかかってシステムをアップデートしたり、作業できなくなくなるので、アイコンを点滅させるべきではないと付け加えました。
しかし、それは安定版 (stable) で運用しているシステムにはよいアイデアかも知れません。」</li>
</ul>
<hr class="full_hr">
<p>このアプレットをインストールするには、次のコマンドを実行します。</p>
<pre> # apt-get install apt-watch</pre>
<p>あるいは、次のコマンドでもインストールされます。</p>
<pre> # apt-get install apt-watch-gnome</pre>
<blockquote>
  <p class="quotation">パッケージリストを読み込んでいます... 完了<br>
依存関係ツリーを作成しています... 完了<br>
以下の特別パッケージがインストールされます:<br>
apt-watch-backend<br>
推奨パッケージ:<br>
synaptic<br>
以下のパッケージが新たにインストールされます:<br>
apt-watch-backend apt-watch-gnome<br>
アップグレード: 0 個、新規インストール: 2 個、削除: 0 個、保留: 249 個。<br>
82.5kB のアーカイブを取得する必要があります。<br>
展開後に追加で 393kB のディスク容量が消費されます。<br>
続行しますか [Y/n]?</p>
</blockquote>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_5">update-manager</h4>
<p>Synaptic をベースに開発され、簡易な機能を提供しますが、Synaptic には含まれない追加機能も備えています。Etch
の新規インストール（GNOMEデスクトップ）では標準で含まれます。これを追加インストールしたい時は、次のコマンドを用います。</p>
<pre> # apt-get install update-manager</pre>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_6">Update Notifier</h4>
<p>アップデートをデスクトップのパネル通知領域に自動通知してくれるアプレットです。apt-watch
と同様な機能を提供します。これは、Debian 4.0 Etch
以降の新機能です。1日1回の頻度でチェックが行われます。GNOMEだけでなく、KDE、Xfce
などの環境でも機能します。オプションで自動更新(automatic updates)を設定することも可能となっています。</p>
<p>インストール方法</p>
<pre> # apt-get install update-notifier</pre>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li><a href="http://packages.debian.org/stable/gnome/update-notifier">Daemon
which
notifies about package updates</a>
    <blockquote>
      <p class="quotation">"Update Notifier will check for the
availability of new packages for your Debian system on a daily basis.
When it detects new versions of the packages installed on the system
are available, it will add an icon on the desktop notification area."<br>
"It will work with any Desktop system that implements the <span
 class="noexists">FreeDesktop<a
 href="http://f40.aaa.livedoor.jp/%7Egreen/?cmd=edit&amp;page=FreeDesktop&amp;refer=DebianLinux-FAQ%2FEtch%2F4">?</a></span>
notification area specification, like GNOME, KDE and XFCE."</p>
    </blockquote>
  </li>
</ul>
<hr class="full_hr">
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>Debian ウィークリーニュース - 2006 年 08 月 22 日<br>
「デスクトップの新機能。 Gustavo Noronha Silva さんは、update-notifier
の新バージョンをアップロードしたと発表しました。このツールは Ubuntu
が最初に作ったもので、通知用の領域に通知用のアイコンを表示して、利用可能になった更新についてユーザに通知します。Debian
パッケージのバージョンは、重大なパッケージのみについて、更新によって再起動が必須となったことを通知します。また、ドライブに入れられた
Debian の CD や DVD についても通知します。このような機能は、Debian
をデスクトップディストリビューションとしてより素晴らしいものにするのに一役買うはずです。」- <a
 href="http://www.jp.debian.org/News/weekly/2006/34/">http://www.jp.debian.org/News/weekly/2006/34/</a></li>
  <li><a
 href="http://lists.debian.org/debian-devel/2006/08/msg00629.html">New
desktop features provided by new version of update-notifier</a></li>
</ul>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_7">secure apt について（変更点）</h4>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>secure apt - KeN's GNU/Linux Diary (2006-01-07)<br>
    <a href="http://kmuto.jp/d/index.cgi/debian/apt-secure.htm">http://kmuto.jp/d/index.cgi/debian/apt-secure.htm</a></li>
  <li><a
 href="http://www.debian.org/doc/manuals/securing-debian-howto/ch7.en.html#s-deb-pack-sign">Package
signing
in Debian (from Securing Debian Manual)</a></li>
</ul>
<p>Etch/Sid にパッケージ検証のための「公開鍵」が部分的に採用されています。具体的には、<a
 href="http://secure-testing-master.debian.net/">Debian testing
security advisories</a> より随時リリースされるアップデータにこの仕組みが採り入れられています。</p>
<p>公開鍵を利用しないときは、# apt-get update コマンド実行時、次のメッセージが表示されます：</p>
<blockquote>
  <p class="quotation">「W: GPG error: <a
 href="http://secure-testing.debian.net">http://secure-testing.debian.net</a>
etch/security-updates Release: 公開鍵を利用できないため、以下の署名は検証できませんでした: NO_PUBKEY
946AA6E18722E71E<br>
W: これらの問題を解決するためには apt-get update を実行する必要があるかもしれません」</p>
</blockquote>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_8">secure apt を有効にするには？</h4>
<p>次の手順で、パッケージと公開鍵をインストールします。</p>
<ol class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>debian-keyring というパッケージをインストール。
    <pre> # apt-get install debian-keyring</pre>
    <blockquote>
      <p class="quotation">パッケージリストを読み込んでいます... 完了<br>
依存関係ツリーを作成しています... 完了<br>
以下のパッケージが新たにインストールされます:<br>
　debian-keyring<br>
アップグレード: 0 個、新規インストール: 1 個、削除: 0 個、保留: 0 個。<br>
11.5MB のアーカイブを取得する必要があります。<br>
展開後に追加で 14.9MB のディスク容量が消費されます。<br>
警告: 以下のパッケージは認証されていません!<br>
　debian-keyring<br>
検証なしにこれらのパッケージをインストールしますか [y/N]? y</p>
    </blockquote>
  </li>
</ol>
<p>場合によっては、以下の追加作業も必要となります。</p>
<ol class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>インポートしたい公開鍵（例：hoge-200x-x.asc）をダウンロード。</li>
  <li>apt-key を追加。
    <pre> # apt-key add hoge-200x-x.asc<br> gpg: 絶対的に信用する鍵が見つかりません<br> OK</pre>
  </li>
  <li>上記作業の確認は、次のコマンドで行えます。
    <pre> # apt-key list</pre>
  </li>
</ol>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_9">secure apt を利用しないとき</h4>
<p>次のコマンドを実行するとエラーメッセージが出ます。</p>
<p># apt-get update</p>
<blockquote>
  <p class="quotation">W: GPG error: <a
 href="http://secure-testing.debian.net">http://secure-testing.debian.net</a>
etch/security-updates Release:<br>
公開鍵を利用できないため、以下の署名は検証できませんでした: NO_PUBKEY 946AA6E18722E71E<br>
W: これらの問題を解決するためには apt-get update を実行する必要があるかもしれません</p>
</blockquote>
<p># apt-get install hoge</p>
<blockquote>
  <p class="quotation">パッケージリストを読み込んでいます... 完了<br>
依存関係ツリーを作成しています... 完了<br>
以下のパッケージがインストールされます:<br>
　...<br>
警告: 以下のパッケージは認証されていません!<br>
　...<br>
検証なしにこれらのパッケージをインストールしますか [y/N]?</p>
</blockquote>
<p>エラーメッセージは注意を促す目的で表示されますが、実際のアップグレードやインストールを妨げることはありません。この状況のもとでも、#
apt-get upgrade を実行することができます。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_10">Recommends パッケージの扱い（変更点 -2007-10-01）</h4>
<p>2007-10-01 より、APTの挙動が変更される予定です。Recommends パッケージもデフォルトでインストールされます。</p>
<p>Subject: Installation of Recommends by default on October 1st<br>
debian-devel-announceより。<br>
<a href="http://kmuto.jp/d/index.cgi/2007/08/02/">http://kmuto.jp/d/index.cgi/2007/08/02/</a><br>
<a
 href="http://lists.debian.org/debian-devel-announce/2007/08/msg00000.html">http://lists.debian.org/debian-devel-announce/2007/08/msg00000.html</a></p>
<hr size="2" width="100%"><a href="../../../../index.html">HOME</a>
</div>
</body>
</html>
