<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <title>RedHatLinux-FAQ/PackageManagement</title>
</head>
<body>
<div id="navigator">
<p><a href="../../../index.html" title="FrontPage (13d)">HOME</a> / <a
 href="../index.html">Distributions</a> / <a href="index.html">RedHatLinux-FAQ</a>
/ PackageManagement</p>
<hr size="2" width="100%">
<h2 id="content_1_0">RPM およびパッケージ管理について</h2>
<div class="contents">
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li><a href="#content_1_0">RPM およびパッケージ管理について </a>
    <ul class="list2" style="padding-left: 16px; margin-left: 16px;">
      <li><a href="#content_1_1">Red Hat Linux で apt4rpm
を使う。(FreshRPM編) </a>
        <ul class="list3" style="padding-left: 16px; margin-left: 16px;">
          <li><a href="#content_1_2">ダウンロード </a></li>
          <li><a href="#content_1_3">インストール </a></li>
          <li><a href="#content_1_4">設定 </a></li>
          <li><a href="#content_1_5">使い方 </a></li>
          <li><a href="#content_1_6">Synaptic(APTのGUIフロントエンド) </a></li>
        </ul>
      </li>
      <li><a href="#content_1_7">Red Hat Linux で APT(apt-for-rpm)
を使う。(Fedora.us編) </a></li>
      <li><a href="#content_1_8">FedoraLegacy サポートを利用する (RHL9編) </a>
        <ul class="list3" style="padding-left: 16px; margin-left: 16px;">
          <li><a href="#content_1_9">ステップ1. APTのインストール </a></li>
          <li><a href="#content_1_10">ステップ1-1：APTの設定 </a></li>
          <li><a href="#content_1_11">ステップ1-2：Fedora Legacy キーのインポート </a></li>
          <li><a href="#content_1_12">Step 2: Update your system　ステップ3：
システムのアップデート実行 </a></li>
          <li><a href="#content_1_13">ステップ2-1:パッケージのインデックス </a></li>
          <li><a href="#content_1_14">ステップ2-2: パッケージのアップデート </a></li>
          <li><a href="#content_1_15">ステップ2-3:
ローカルにダウンロードされたファイルの削除(オプション) </a></li>
          <li><a href="#content_1_16">ステップ3：fedora-legacy-announce
メーリングリストの講読 </a></li>
          <li><a href="#content_1_17">[参照/引用先] </a></li>
        </ul>
      </li>
      <li><a href="#content_1_18">セキュリティフィックスのソースはどこからか入手できますか? </a></li>
      <li><a href="#content_1_19">APT で最新のカーネルに更新できません。 </a></li>
      <li><a href="#content_1_20">アップデートしても、最新のKernelが自動起動しません。 </a></li>
      <li><a href="#content_1_21">RPM を rebuild できません。(unknown option
と怒られます) </a></li>
      <li><a href="#content_1_22">Apache の rpm が見つかりません。 </a></li>
      <li><a href="#content_1_23">rpm コマンドを使うと操作不能になる。(rpm
データベースが壊れてしまった) </a></li>
      <li><a href="#content_1_24">最新の Mozilla ブラウザーを利用するには? </a>
        <ul class="list3" style="padding-left: 16px; margin-left: 16px;">
          <li><a href="#content_1_25">Mozilla 1.5 （ 2003年10月15日 リリース分） </a></li>
          <li><a href="#content_1_26">Mozilla yum レポジトリを追加する方法 </a></li>
          <li><a href="#content_1_27">Red Hat Linux 9 のアップデートリリース
Mozilla-1.4.3 </a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_1">Red Hat Linux で apt4rpm を使う。(FreshRPM編)</h3>
<p>Red Hat Linux のアップデートツールに Up2date
があるけど、致命的なセキュリティホールがあるとサイトが混雑してつながりにくくなったり、アップデート以外のソフトのインストールには使えなかったり、
Red Hat Network に登録しないと使えなかったりと、なにかと使い勝手が悪い。そこで非公式ではあるが Debian でおなじみの
APT を使う手がある。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_2">ダウンロード</h4>
<p><a href="http://apt.freshrpms.net/">apt.freshrpms.net</a>
のページから6.2から9 まで、それぞれのバージョンに応じた APT の RPM パッケージがあるので取って来る。</p>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li><a href="http://ftp.freshrpms.net/pub/freshrpms/redhat/9/apt/">Apt
for
Red Hat Linux 9</a></li>
  <li><a href="http://ftp.freshrpms.net/pub/freshrpms/redhat/8.0/apt/">Apt
for
Red Hat Linux 8.0</a></li>
  <li><a href="http://ftp.freshrpms.net/pub/freshrpms/redhat/7.3/apt/">Apt
for
Red Hat Linux 7.3</a></li>
  <li><a href="http://ftp.freshrpms.net/pub/freshrpms/redhat/7.2/apt/">Apt
for
Red Hat Linux 7.2(rpm 4.0.4 - updated)</a></li>
  <li><a
 href="http://ftp.freshrpms.net/pub/freshrpms/redhat/misc/apt/rh72-orig/">Apt
for
Red Hat Linux 7.2(rpm 4.0.3 - original)</a></li>
  <li><a href="http://ftp.freshrpms.net/pub/freshrpms/redhat/7.0/apt/">Apt
for
Red Hat Linux 7.0(rpm 4.0.4 - updated)</a></li>
  <li><a href="http://ftp.freshrpms.net/pub/freshrpms/redhat/6.2/apt/">Apt
for
Red Hat Linux 6.2(rpm 4.0.2 - updated)</a></li>
</ul>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_3">インストール</h4>
<p>root になり、ダウンロードした APT のパッケージがあるところで rpm -ivh apt-* するだけ。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_4">設定</h4>
<p>アップデートだけなら設定をいじる必要なし。<a
 href="http://freshrpms.net/apt/repositories.html">Apt repositories</a>な
どの apt-line を追加するなら必要に応じて /etc/apt/source.list を書き換える。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_5">使い方</h4>
<p>詳しい APT の使い方は Debian の <a
 href="http://www.debian.org/doc/manuals/apt-howto/index.ja.html">APT-HOWTO</a>
や、Vine Linuxの <a href="http://www.vinelinux.org/manuals/using_rpm.html">RPM/APT
によるパッケージ管理</a> を参照。pinを設定すればアップデートしたくないパッケージをholdできたりするよ。<br>
<br>
</p>
<div class="ie5">
<table class="style_table" border="0" cellspacing="1">
  <thead><tr>
    <td class="style_td">APT の解説</td>
    <td class="style_td">コマンド</td>
  </tr>
  </thead><tbody>
    <tr>
      <td class="style_td" rowspan="2">アップデート</td>
      <td class="style_td"># apt-get update</td>
    </tr>
    <tr>
      <td class="style_td"># apt-get upgrade</td>
    </tr>
    <tr>
      <td class="style_td">パッケージを探す。</td>
      <td class="style_td">$ apt-cache search hoge</td>
    </tr>
    <tr>
      <td class="style_td">パッケージのインストール</td>
      <td class="style_td"># apt-get install hoge</td>
    </tr>
    <tr>
      <td class="style_td">パッケージのアンインストール</td>
      <td class="style_td"># apt-get remove hoge</td>
    </tr>
  </tbody>
</table>
</div>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_6">Synaptic(APTのGUIフロントエンド)</h4>
<p>Synaptic という APT の GUI のフロントエンドがあります。</p>
<p>apt-get install synaptic でインストール。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_7">Red Hat Linux で APT(apt-for-rpm) を使う。(Fedora.us編)</h3>
<p><span class="noexists">FedoraHOWTO<a
 href="http://f40.aaa.livedoor.jp/%7Egreen/?cmd=edit&amp;page=RedHatLinux-FAQ%2FFedora%2FFedoraHOWTO&amp;refer=RedHatLinux-FAQ%2FPackageManagement">?</a></span>
のページ(日本語訳)の手順にしたがって、apt-0.5.5cnc6-0.fdr.8.rh90.i386.rpm をインストールしてください。</p>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>[注意] 上の項目にある FreshRPM
リポジトリーと併用するなど、複数のリポジトリーを同時に利用すると不具合が発生する可能性があります。</li>
</ul>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_8"><span class="noexists">FedoraLegacy<a
 href="http://f40.aaa.livedoor.jp/%7Egreen/?cmd=edit&amp;page=FedoraLegacy&amp;refer=RedHatLinux-FAQ%2FPackageManagement">?</a></span>
サポートを利用する (RHL9編)</h3>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_9">ステップ1. APTのインストール</h4>
<p>APT をインストールするには、使っているパソコンでルート・ユーザーとなり、次のコマンドを実行します。</p>
<p># rpm -ivh <a
 href="http://download.fedora.us/fedora/redhat/9/i386/RPMS.stable/apt-0.5.5cnc6-0.fdr.8.rh90.i386.rpm">http://download.fedora.us/fedora/redhat/9/i386/RPMS.stable/apt-0.5.5cnc6-0.fdr.8.rh90.i386.rpm</a></p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_10">ステップ1-1：APTの設定</h4>
<p>次の作業は、Fedora Legacy の公式なダウンロード・サイトのリポジトリーが利用できるように、APT を設定します。
/etc/apt/sources.list　というファイルをエディターで編集して、次の記述をファイルの冒頭に挿入してください。</p>
<pre> rpm http://download.fedoralegacy.org/apt redhat/9/i386 os updates legacy-utils</pre>
<p>このステップは省略可能です。省略した場合には、fedora.us
を利用することになります。国内の高速サーバーを利用したい時は、そのミラーと置き換えてください。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_11">ステップ1-2：Fedora Legacy キーのインポート</h4>
<p>Fedora Legacy で使われる GPG キーのインポートは、rpm --import <a
 href="http://www.fedoralegacy.org/FEDORA-LEGACY-GPG-KEY">http://www.fedoralegacy.org/FEDORA-LEGACY-GPG-KEY</a>
のように行います。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_12">Step 2: Update your system　ステップ3： システムのアップデート実行</h4>
<p>APT のインストールが完了したら、システムを更新(アップデート)するためには、ルートユーザーになって次のコマンドを実行します。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_13">ステップ2-1:パッケージのインデックス</h4>
<p>ファイルとソースを同期させるために、apt-get update を実行します。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_14">ステップ2-2: パッケージのアップデート</h4>
<p>apt-get upgrade と実行します。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_15">ステップ2-3: ローカルにダウンロードされたファイルの削除(オプション)</h4>
<p>apt-get clean と実行します。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_16">ステップ3：fedora-legacy-announce メーリングリストの講読</h4>
<p>メーリングリストを購読すると、更新情報をいち早く入手するのに便利です。</p>
<ul class="list2" style="padding-left: 32px; margin-left: 32px;">
  <li>You
may subscribe to the fedora-legacy-announce mailing list to be informed
by e-mail when new updates become available. This step is optional, but
highly recommended.</li>
</ul>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_17">[参照/引用先]</h4>
<p><a href="http://www.fedoralegacy.org/docs/apt-rh9.php">HowTo for
using apt on Red Hat Linux 9</a></p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_18">セキュリティフィックスのソースはどこからか入手できますか?</h3>
<p>(株)テンアートニから、ダウンロードして利用することが可能です。Red Hat Linux
のレガシーサポートは、次のバージョンを対象としています。</p>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>Red Hat Linux 6.2J</li>
  <li>Red Hat Linux 7.0J</li>
  <li>Red Hat Linux 7.1</li>
  <li>Red Hat Linux 7.2</li>
  <li>Red Hat Linux 7.3</li>
  <li>Red Hat Linux 8.0</li>
  <li>Red Hat Linux 9.0</li>
</ul>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li><a
 href="http://updates.10art-ni.co.jp/support/redhat/select.cgi?login=Download">ダ
ウンロードサイト</a></li>
  <li><a
 href="http://updates.10art-ni.co.jp/support/redhat/list.cgi?ver=9.0&amp;select=OK">Red
hat
Linux 9 セキュリティフィックス</a></li>
</ul>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_19">APT で最新のカーネルに更新できません。</h3>
<p><span class="noexists">FedoraLegacy<a
 href="http://f40.aaa.livedoor.jp/%7Egreen/?cmd=edit&amp;page=FedoraLegacy&amp;refer=RedHatLinux-FAQ%2FPackageManagement">?</a></span>
を使ってパッケージの更新を実行した場合、Linux Kernel
については自動更新されないように挙動が変更されました。したがって、明示的にインストールしたいパッケージを指定して apt-get
を実行してください。</p>
<p>例）apt-get install kernel-2.4.20-37.9.legacy.i386.rpm
(※2004.11.19現在の最新版)</p>
<p>このような場合、グラフィカルなデスクトップからの作業では Synaptic を利用する方が便利です。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_20">アップデートしても、最新のKernelが自動起動しません。</h3>
<p>Fedora Legacy サポートを利用すると、更新された kernel
がインストールされ、ブートローダーのメニュー画面は次の通り表示されます。</p>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>Red Hat Linux (2.4.20-37.9.legacy)</li>
  <li>Red Hat Linux (2.4.20-8)</li>
</ul>
<p>この問題は Red Hat Linux, Fedora Core に共通なので、次の関連項目を見て対処してください。</p>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li><a
 href="http://f40.aaa.livedoor.jp/%7Egreen/?WhiteBoxLinux-FAQ%2FGeneral#p9e859d3"
 title="WhiteBoxLinux-FAQ/General (2110d)">アップデートしても、最新のKernelが自動起動しません。</a></li>
</ul>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_21">RPM を rebuild できません。(unknown option と怒られます)</h3>
<p>Red Hat Linux 8 以降、従来の rpm のオプションが一部無効になっています。<br>
<br>
<a href="http://www.itmedia.co.jp/help/tips/linux/l0675.html">「unknown
option」とエラー表示されリビルドできない</a> (ITMedia)<br>
を参照のこと。</p>
<p>RPM のパッケージ構成も変更されており、パッケージの作成、リビルドには <strong>rpm-build</strong>
パッケージが必要です。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_22">Apache の rpm が見つかりません。</h3>
<p>Red Hat Linux 8 以降は Apache の rpm のファイル名が apache-*.rpm から httpd-*.rpm
に変更になりました。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_23">rpm コマンドを使うと操作不能になる。(rpm データベースが壊れてしまった)</h3>
<p>Red Hat Linux 8.0の rpm 4.1 にはバグがあり、最悪の場合 rpm
データベースが破壊される場合があるそうです。詳しくは下記を参照の事。</p>
<dl class="list1" style="padding-left: 16px; margin-left: 16px;">
  <dt>root で rpm コマンドが使えなくなった。</dt>
  <dd><a
 href="http://user.ecc.u-tokyo.ac.jp/%7Et10521/memo/broken_rpmdb.html">http://user.ecc.u-tokyo.ac.jp/~t10521/memo/broken_rpmdb.html</a></dd>
  <dt>rpmコマンドがハングアップしてしまうときは</dt>
  <dd><a
 href="http://www.atmarkit.co.jp/flinux/rensai/linuxtips/445crshrpmdb.html">http://www.atmarkit.co.jp/flinux/rensai/linuxtips/445crshrpmdb.html</a></dd>
  <dt>Repair an RPM database safely</dt>
  <dd><a href="http://rpm.redhat.com/hintskinks/repairdb/">http://rpm.redhat.com/hintskinks/repairdb/</a></dd>
</dl>
<p><a href="http://www.rpm.org/">rpm.org</a> に <a
 href="ftp://ftp.rpm.org/pub/rpm/test-4.2/">rpm 4.2</a> と<a
 href="ftp://ftp.rpm.org/pub/rpm/test-4.1.1">rpm 4.1.1</a>
があるけど、これはどうなんだろう?</p>
<ul class="list1" style="padding-left: 16px; margin-left: 16px;">
  <li>rpm.orgのrpm 4.2の方がRH9のパッケージより安定しているという説があり。
    <ul class="list2" style="padding-left: 16px; margin-left: 16px;">
      <li>但、synapticの動作がおかしくなるかもしれないらしい。</li>
    </ul>
  </li>
</ul>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h3 id="content_1_24">最新の Mozilla ブラウザーを利用するには?</h3>
<p>Moozilla の日本語リリースページ <a
 href="http://www.mozilla-japan.org/releases/">http://www.mozilla-japan.org/releases/</a>
のリンク先には次の専用（RPM）ビルドが提供されているので、利用すると便利です。</p>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_25">Mozilla 1.5 （ 2003年10月15日 リリース分）</h4>
<pre> # Xft、GTK2 付き Red Hat Linux 9 用 RPM<br> # Xft、GTK2 付き Fedora Core 用 RPM<br> # デフォルトビルド設定の Red Hat Linux 8 用 RPMS (提供ビルド)</pre>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_26">Mozilla yum レポジトリを追加する方法</h4>
<p>次のサイトに具体的な解説があるので、その手順を引用しておきます：<br>
<a
 href="http://ring.riken.go.jp/archives/net/www/mozilla/mozilla/yum/readme.yum">http://ring.riken.go.jp/archives/net/www/mozilla/mozilla/yum/readme.yum</a></p>
<blockquote>
  <p class="quotation">If you want to subscribe to the Mozilla releases
just add the<br>
following to your yum configuration file:</p>
  <pre> [mozilla-seamonkey]<br> name=Mozilla SeaMonkey Releases<br> baseurl=http://ftp.mozilla.org/pub/mozilla.org/mozilla/yum/SeaMonkey/releases/current/redhat/$releasever</pre>
</blockquote>
<div class="jumpmenu"><a href="#navigator">↑</a></div>
<h4 id="content_1_27">Red Hat Linux 9 のアップデートリリース Mozilla-1.4.3</h4>
<p>fedora.us およびそのミラーから、2004年10月4日付修正版が利用できます。# apt-get dist-upgrade
で自動更新できます。</p>
<pre> http://download.fedora.us/fedora/redhat/9/i386/RPMS.updates/<br> mozilla-1.4.3-0.9.1.legacy.i386.rpm</pre>
<hr size="2" width="100%"><a href="../../../index.html">HOME</a>
</div>
</body>
</html>
